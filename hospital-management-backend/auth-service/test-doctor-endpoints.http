### Auth Service - Doctor Profile API Tests

@baseUrl = http://localhost:3001
@authToken = Bearer YOUR_JWT_TOKEN_HERE
@doctorToken = Bearer YOUR_DOCTOR_JWT_TOKEN_HERE
@adminToken = Bearer YOUR_ADMIN_JWT_TOKEN_HERE

### 1. Get all doctors (public)
GET {{baseUrl}}/api/doctors
Content-Type: application/json

### 2. Get all doctors with filters
GET {{baseUrl}}/api/doctors?specialization=Cardiology&minRating=4.0&isAcceptingPatients=true&page=1&limit=5
Content-Type: application/json

### 3. Search doctors
GET {{baseUrl}}/api/doctors?search=john&page=1&limit=10
Content-Type: application/json

### 4. Get doctor profile by user ID (public)
GET {{baseUrl}}/api/doctors/profile/USER_ID_HERE
Content-Type: application/json

### 5. Get doctor profile by profile ID (public)
GET {{baseUrl}}/api/doctors/PROFILE_ID_HERE
Content-Type: application/json

### 6. Get my doctor profile (doctor only)
GET {{baseUrl}}/api/doctors/my/profile
Authorization: {{doctorToken}}
Content-Type: application/json

### 7. Create my doctor profile (doctor only)
POST {{baseUrl}}/api/doctors/my/profile
Authorization: {{doctorToken}}
Content-Type: application/json

{
  "specialization": "Cardiology",
  "licenseNumber": "MD123456789",
  "yearsOfExperience": 10,
  "consultationFee": 150.00,
  "education": "MD from Harvard Medical School, Residency at Johns Hopkins",
  "certifications": ["Board Certified Cardiologist", "Advanced Cardiac Life Support"],
  "languagesSpoken": ["English", "Vietnamese", "French"],
  "availabilityHours": {
    "monday": {"start": "09:00", "end": "17:00"},
    "tuesday": {"start": "09:00", "end": "17:00"},
    "wednesday": {"start": "09:00", "end": "17:00"},
    "thursday": {"start": "09:00", "end": "17:00"},
    "friday": {"start": "09:00", "end": "15:00"}
  },
  "isAcceptingPatients": true
}

### 8. Update my doctor profile (doctor only)
PUT {{baseUrl}}/api/doctors/my/profile
Authorization: {{doctorToken}}
Content-Type: application/json

{
  "consultationFee": 175.00,
  "yearsOfExperience": 11,
  "isAcceptingPatients": false,
  "availabilityHours": {
    "monday": {"start": "08:00", "end": "16:00"},
    "tuesday": {"start": "08:00", "end": "16:00"},
    "wednesday": {"start": "08:00", "end": "16:00"},
    "thursday": {"start": "08:00", "end": "16:00"},
    "friday": {"start": "08:00", "end": "14:00"}
  }
}

### 9. Admin create doctor profile for user
POST {{baseUrl}}/api/doctors/profile
Authorization: {{adminToken}}
Content-Type: application/json

{
  "userId": "USER_ID_HERE",
  "specialization": "Neurology",
  "licenseNumber": "MD987654321",
  "yearsOfExperience": 15,
  "consultationFee": 200.00,
  "education": "MD from Stanford Medical School, Fellowship in Neurosurgery",
  "certifications": ["Board Certified Neurologist", "Neurosurgery Fellowship"],
  "languagesSpoken": ["English", "Vietnamese"],
  "isAcceptingPatients": true
}

### 10. Admin update doctor profile
PUT {{baseUrl}}/api/doctors/profile/USER_ID_HERE
Authorization: {{adminToken}}
Content-Type: application/json

{
  "consultationFee": 220.00,
  "yearsOfExperience": 16,
  "isAcceptingPatients": true
}

### 11. Admin delete doctor profile
DELETE {{baseUrl}}/api/doctors/profile/USER_ID_HERE
Authorization: {{adminToken}}
Content-Type: application/json

### 12. Update doctor rating (internal API)
PUT {{baseUrl}}/api/doctors/rating/USER_ID_HERE
Content-Type: application/json

{
  "rating": 4.5
}

### 13. Get doctors by specialization with pagination
GET {{baseUrl}}/api/doctors?specialization=Cardiology&page=1&limit=5
Content-Type: application/json

### 14. Get doctors with max consultation fee
GET {{baseUrl}}/api/doctors?maxConsultationFee=200&isAcceptingPatients=true
Content-Type: application/json

### 15. Get doctors with minimum rating
GET {{baseUrl}}/api/doctors?minRating=4.5&isAcceptingPatients=true
Content-Type: application/json

### Test Data Examples

### Sample Doctor Profile Creation (Full)
POST {{baseUrl}}/api/doctors/my/profile
Authorization: {{doctorToken}}
Content-Type: application/json

{
  "specialization": "General Medicine",
  "licenseNumber": "MD555666777",
  "yearsOfExperience": 8,
  "consultationFee": 120.00,
  "education": "MD from University of Medicine, Residency in Internal Medicine",
  "certifications": ["Board Certified Internal Medicine", "Basic Life Support"],
  "languagesSpoken": ["Vietnamese", "English"],
  "availabilityHours": {
    "monday": {"start": "08:30", "end": "17:30"},
    "tuesday": {"start": "08:30", "end": "17:30"},
    "wednesday": {"start": "08:30", "end": "17:30"},
    "thursday": {"start": "08:30", "end": "17:30"},
    "friday": {"start": "08:30", "end": "16:00"},
    "saturday": {"start": "09:00", "end": "12:00"}
  },
  "isAcceptingPatients": true
}

### Sample Doctor Profile Update (Partial)
PUT {{baseUrl}}/api/doctors/my/profile
Authorization: {{doctorToken}}
Content-Type: application/json

{
  "consultationFee": 130.00,
  "certifications": ["Board Certified Internal Medicine", "Basic Life Support", "Advanced Cardiac Life Support"],
  "availabilityHours": {
    "monday": {"start": "09:00", "end": "18:00"},
    "tuesday": {"start": "09:00", "end": "18:00"},
    "wednesday": {"start": "09:00", "end": "18:00"},
    "thursday": {"start": "09:00", "end": "18:00"},
    "friday": {"start": "09:00", "end": "17:00"}
  }
}
