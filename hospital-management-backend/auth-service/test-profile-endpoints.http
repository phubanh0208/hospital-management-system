### Test Auth Service Profile Management

### 1. Register user with full profile
POST http://localhost:3001/api/auth/register
Content-Type: application/json

{
  "username": "testuser456",
  "email": "testuser456@example.com",
  "password": "TestPass123!@#",
  "role": "patient",
  "profile": {
    "firstName": "Lê Văn",
    "lastName": "Cường",
    "phone": "0923456789",
    "dateOfBirth": "1992-08-10",
    "address": "789 Đường GHI, Phường RST, Quận 5, TP.HCM",
    "avatarUrl": "https://example.com/avatar-cuong.jpg"
  }
}

### 2. Login to get token
POST http://localhost:3001/api/auth/login
Content-Type: application/json

{
  "email": "testuser456@example.com",
  "password": "TestPass123!@#"
}

### 3. Get profile (use token from login response)
GET http://localhost:3001/api/auth/profile
Authorization: Bearer YOUR_TOKEN_HERE

### 4. Update profile with new fields
PUT http://localhost:3001/api/auth/profile
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: application/json

{
  "profile": {
    "firstName": "Lê Văn",
    "lastName": "Cường Updated",
    "phone": "0987654321",
    "dateOfBirth": "1992-08-15",
    "address": "999 Đường Updated, Phường New, Quận 7, TP.HCM",
    "avatarUrl": "https://example.com/new-avatar.jpg"
  }
}

### 5. Test via API Gateway
GET http://localhost:3000/api/auth/profile
Authorization: Bearer YOUR_TOKEN_HERE

### 6. Update via API Gateway
PUT http://localhost:3000/api/auth/profile
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: application/json

{
  "profile": {
    "firstName": "Gateway",
    "lastName": "Test User",
    "phone": "0911222333",
    "dateOfBirth": "1990-01-01",
    "address": "Gateway Test Address, District 1, HCMC",
    "avatarUrl": "https://example.com/gateway-avatar.jpg"
  }
}
